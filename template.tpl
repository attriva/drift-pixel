___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Drift Pixel",
  "categories": ["ATTRIBUTION", "CHAT", "CONVERSIONS"],
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,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"
  },
  "description": "This is an unofficial Google Tag Manager template for the Drift Pixel. \nUse this template to set up Drift on your website and capture Drift events.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "TEXT",
    "name": "DriftAccountID",
    "displayName": "DriftAccountID",
    "simpleValueType": true
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

const copyFromWindow = require('copyFromWindow');
const log = require('logToConsole');
const injectScript = require('injectScript');
const DriftAccountID = data.DriftAccountID;

const callInWindow = require('callInWindow');


const onSuccess = () => {
	var testcallIn2 = copyFromWindow('drift.load');
  	callInWindow('drift.load',DriftAccountID);
  data.gtmOnSuccess();
};
  
const url = 'https://gtm.attriva.com/attrivaDrift.js';
injectScript(url, onSuccess, data.gtmOnFailure, url);

data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": [
        {
          "key": "keys",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "drift.load"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "testdrift"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "key"
                  },
                  {
                    "type": 1,
                    "string": "read"
                  },
                  {
                    "type": 1,
                    "string": "write"
                  },
                  {
                    "type": 1,
                    "string": "execute"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "testcallIn"
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  },
                  {
                    "type": 8,
                    "boolean": true
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urls",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 1,
                "string": "https://gtm.attriva.com/*"
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 12/8/2019, 3:06:20 PM
